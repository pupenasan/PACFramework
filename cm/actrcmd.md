# Загальний перелік можливих команд для виконавчих механізмів (ВМ)

Команди можуть приходити з програми або з HMI чи іншого ПЛК. 

З програми команди приходять як бітові поля структури ACTTR_CMD що рівні 1. Тобто вважається що прийшла відповідна команда, якщо відповідний біт в 1. Таким чином з програми за один цикл задачі може приходити одночасно кілька команд. 

З HMI або іншого засобу, програми приходять як числові значення в полі CMD. Якщо CMD=0 ніякої команди не надходить. Якщо CMD відповідає певному значенню команди вона обробляється, якщо зараз є на це дозвіл. 

Команди обнуляються після обробки конкретного ВМ. Таким чином команда "не зависає". Якщо необхідна дія команди протягом певного часу, необхідно передбачити зміну станів.   

| Назва біту     | Назва команди/номер команди з HMI                            | Призначення команди                                          | Джерело |
| -------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------- |
| OPN            | Відкрити 16#0001                                             |                                                              | PRG/HMI |
| CLS            | Закрити 16#0002                                              |                                                              | PRG/HMI |
| TOGGLE         | Переключити (відкрити<->закрити, включити <-> відключити)  16#0003 |                                                              | PRG/HMI |
| ALMACK         | Підтвердити тривогу 16#0004                                  |                                                              | HMI     |
| ALMRESET       | Скинути тривоги 16#0005                                      |                                                              | HMI     |
| BLCK           | Заблокувати 16#0006                                          | поки не передбачено                                          | PRG/HMI |
| DBLCK          | Розблокувати 16#0007                                         |                                                              | PRG/HMI |
| STOPTUN        | Зупинити автоналаштування 16#0008                            |                                                              | HMI     |
| TUNING         | Запустити автоналаштування 16#0009                           |                                                              | HMI     |
| MAN            | Перевести в ручний з SCADA/HMI 16#0301                       |                                                              | HMI     |
| AUTO           | Перевести в автоматичний з SCADA/HMI 16#0302                 |                                                              | HMI     |
| PROTECT        | Включити алгоритм захисту 16#000A                            |                                                              | PRG/HMI |
| START          | Запустити 16#0011                                            |                                                              | PRG/HMI |
| STOP           | Зупинити 16#0012                                             |                                                              | PRG/HMI |
| UP             | Більше 16#0021                                               |                                                              | PRG/HMI |
| DWN            | Менше 16#0022                                                |                                                              | PRG/HMI |
| CRMT           | Відключити локальне керування (по місцю) 16#0314             |                                                              | HMI     |
| RESOLUTION     | =1 дозвіл на керування 16#000B                               |                                                              | PRG     |
| REVERS         | Включити реверс 16#0013                                      |                                                              | PRG/HMI |
| CLCL           | Включити локальне керування (по місцю) 16#0313               |                                                              | HMI     |
| DBLCKACTTOGGLE | Переключення дозволу на ігнорування CMRESOLUTION 16#000C     | Відправка команди змінює статус біта DBLCKACT на протилежний | HMI     |

## Реалізація 

### Структура ACTTR_CMD 

Реалізовано як структура ACTTR_CMD з полів BOOL.

 