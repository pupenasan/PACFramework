```pascal
PROGRAM RECIPE_REC_ARCH_NAVI
VAR
END_VAR
VAR
	RECID: uint;
	i: uint;
END_VAR

RECID:=GVLH.CTRLRECIPE_REPORT_NAVID;
IF PLC.CMD<>0 THEN
	CASE PLC.CMD OF 
		401://на початковий
		RECID:=0; 
		402://на кінцевий
		RECID:=99; 		
		403://+1
		RECID:=RECID+1; 
		404://-1
		RECID:=RECID-1; 
		405://очистити фільтр пошуку
		GVLH.CTRLRECIPE_REPORT_BUFER.FORMULA.FERT_NMB:=0;
		GVLH.CTRLRECIPE_REPORT_BUFER.FORMULA.GRN_NMB:=0;
		GVLH.CTRLRECIPE_REPORT_BUFER.STARTDATE.wYear:=0;
		GVLH.CTRLRECIPE_REPORT_BUFER.STARTDATE.wYday:=0;
		GVLH.CTRLRECIPE_REPORT_BUFER.STARTDATE.wMonth:=0;		
		406://знайти зафільтром пошуку
		FOR i:=0 TO 99 DO
			IF GVL.CTRLRECIPE_REPORTS_ARCH[RECID].FORMULA.FERT_NMB = GVLH.CTRLRECIPE_REPORT_BUFER.FORMULA.FERT_NMB AND
 				GVL.CTRLRECIPE_REPORTS_ARCH[RECID].FORMULA.GRN_NMB = GVLH.CTRLRECIPE_REPORT_BUFER.FORMULA.GRN_NMB AND
				(GVL.CTRLRECIPE_REPORTS_ARCH[RECID].STARTDATE.wYear = GVLH.CTRLRECIPE_REPORT_BUFER.STARTDATE.wYear  OR GVLH.CTRLRECIPE_REPORT_BUFER.STARTDATE.wYear=0)AND
				(GVL.CTRLRECIPE_REPORTS_ARCH[RECID].STARTDATE.wYday = GVLH.CTRLRECIPE_REPORT_BUFER.STARTDATE.wYday  OR GVLH.CTRLRECIPE_REPORT_BUFER.STARTDATE.wYday=0)AND
				(GVL.CTRLRECIPE_REPORTS_ARCH[RECID].STARTDATE.wMonth = GVLH.CTRLRECIPE_REPORT_BUFER.STARTDATE.wMonth OR GVLH.CTRLRECIPE_REPORT_BUFER.STARTDATE.wMonth=0) THEN
				RECID:=i;
			END_IF;	
				
		END_FOR;
		407://
		408://
		409://
		410://
	END_CASE;
	GVLH.CTRLRECIPE_REPORT_BUFER:=GVL.CTRLRECIPE_REPORTS_ARCH[RECID];
END_IF;
IF RECID<0 THEN RECID:=0; END_IF;
IF RECID>99 THEN RECID:=99; END_IF;

GVLH.CTRLRECIPE_REPORT_NAVID:=RECID;
 