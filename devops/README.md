# Автоматизація розробки ПЗ

Усі дані зберігаються у форматі JSON. Окремі файли або документи в БД створюються для окремого ПЛК. Зберігає дані для:

- PLC
- SCADA
- IoTGateway

## Структура Master Data 

| Об'єкт/файл/документ | Призначення                    | Примітка                                     |
| -------------------- | ------------------------------ | -------------------------------------------- |
| info                 | метаінформація про Master Data |                                              |
| plc                  | інформація про ПЛК             | все що стосується обміну та конфігурації ПЛК |
| chs                  | канали (LVL0)                  | потрібно виключно для адресації в IoT        |
| vars                 | змінні (LVL1)                  |                                              |
| acts                 | виконавчі механізми (LVL2)     |                                              |
| loops                | контури регулювання (LVL2)     |                                              |
| proc                 | процедури (ph, up, op, pcp)    |                                              |
| units                | устатковання рівня EM, UN, WC  |                                              |
| iot                  | інформація про IoT             |                                              |
|                      |                                |                                              |

## Chs 

Кожна структура даних CHDI, CHDO, CHAI, CHAO повинна зчитуватися неперервним блоком даних. 

```json
{ info: {
	DICNT : 768,
	DOCNT : 512,
	AICNT : 288,
	AOCNT : 12
	}	
}
```



![image-20211215081829339](C:\Users\san\AppData\Roaming\Typora\typora-user-images\image-20211215081829339.png)

## Vars

| Об'єкт | Призначення                | Примітка |
| ------ | -------------------------- | -------- |
| types  | типи тегів в ПЛК           |          |
| tags   | теги                       |          |
| ids    | індекси по ідентифікаторам |          |

### tags

Для кожного тега:

| Об'єкт  | Призначення | Примітка |
| ------- | ----------- | -------- |
| tagname |             |          |
| id      |             |          |
| descr   |             |          |
| plccfg  |             |          |
| plchmi  |             |          |
| alms    |             |          |

#### alm

Формується на основі оригінального descr в змінній з plccfg, або якщо відсутній то з типу змінної



## Acttrs



![image-20211207172131095](C:\Users\san\AppData\Roaming\Typora\typora-user-images\image-20211207172131095.png)

## plc

| Об'єкт | Призначення                           | Примітка |
| ------ | ------------------------------------- | -------- |
| info   | інформація про ПЛК                    |          |
| memmap | відображення об'єктів на пам'ять      |          |
| moduls | інформація про модулі вводу/виводу    |          |
| iomap  | відображення входів/виходів на модулі |          |
| types  | структурні типи                       |          |

![image-20211208072822062](G:\san\PLCFramework\GitVer\devops\media\image-20211208072822062.png)



![image-20211208072950690](G:\san\PLCFramework\GitVer\devops\media\image-20211208072950690.png)

![image-20211208073503707](G:\san\PLCFramework\GitVer\devops\media\image-20211208073503707.png)

